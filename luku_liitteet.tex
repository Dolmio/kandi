\section{I-VT nopeusraja-arvoon perustuva tunnistusalgoritmi}
\label{sec:IVT-implementation}

\begin{verbatim}
(defn pointPairsBelowVelocityTreshold [pointPairs velocityTreshold]
  (filter #(< (:distance (first %)) velocityTreshold)
   (partition-by #(> (:distance %) velocityTreshold) pointPairs)))

(defn getDistancesBetweenPoints [pointsVector]
  (let [pointPairs (partition 2 1 pointsVector)]
  (map (fn [%] (let [p1 (first %) p2 (second %)]
                 {:p1 p1  :p2 p2 :distance (distanceBetween p1 p2)})) pointPairs)))

(defn centroid [pointPairs]
  (centerOfMass (conj
                   (map #(:p1 %) pointPairs)
                   (:p2 (last pointPairs)))))

(defn getFixations [pointsVector velocityTreshold]
  (map #(centroid %) (pointPairsBelowVelocityTreshold
                           (getDistancesBetweenPoints pointsVector)
                            velocityTreshold)))
\end{verbatim}

%\subsection{Esimerkkiliitteen otsikko 1}
%\label{sec:app1_1}
%
%Kerätty data-aineisto.
%
% -------------------------------------------------------------- %
%
%\newpage
%\section{Toinen esimerkkiliite}
%\label{sec:app2}
%
%Haastattelukysymykset: mitä, missä, milloin, kuka, miten.

